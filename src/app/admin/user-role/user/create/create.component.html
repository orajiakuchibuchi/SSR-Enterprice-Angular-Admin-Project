<div class="row">
    <div class="col-12 p-2 mb-2" *ngIf="showTitle">
        <h3>Create a new user</h3>
    </div>
    <div class="col-12">
        <mat-stepper [linear]="isLinear" #stepper [style.background-color]="'#021645'">
            <mat-step [stepControl]="firstFormGroup">
                <form [formGroup]="firstFormGroup">
                    <ng-template matStepLabel class="text-white">Personal Info</ng-template>
                    <div class="row">
                        <div class="col-md-12">
        
                            <mat-form-field>
                                <mat-label class="text-white">First Name</mat-label>
                                <input class="text-white" matInput placeholder="First name"
                                    formControlName="firstName" required>
                            </mat-form-field>
                        </div>
                        <div class="col-md-12">
        
                            <mat-form-field>
                                <mat-label class="text-white">Last Name</mat-label>
                                <input class="text-white" matInput placeholder="Last name"
                                    formControlName="lastName" required>
                            </mat-form-field>
                        </div>
                        <div class="col-md-12">
        
                            <mat-form-field>
                                <mat-label class="text-white">Country</mat-label>
                                <input class="text-white" matInput placeholder="Country"
                                    formControlName="country" required>
                            </mat-form-field>
                        </div>
                        <div class="col-md-12">
                            <mat-form-field>
                                <mat-label class="text-white">Phone</mat-label>
                                <input class="text-white" type="number" matInput placeholder="Phone"
                                    formControlName="phone" required>
                            </mat-form-field>
                        </div>
                    </div>
                    <div>
                        <button mat-button matStepperNext class="text-white btn">Next</button>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="secondFormGroup" label="Login Information">
                <form [formGroup]="secondFormGroup">
                    <div class="row">
                        <div class="col-12">
                            <mat-form-field>
                                <mat-label class="text-white">Email</mat-label>
                                <input class="text-white" matInput formControlName="email"
                                    placeholder="Email" type="email" required>
                            </mat-form-field>
                        </div>
                        <div class="col-12">
        
                            <mat-form-field>
                                <mat-label class="text-white">Password</mat-label>
                                <input class="text-white" matInput formControlName="password"
                                    placeholder="Password" type="password" required>
                            </mat-form-field>
                        </div>
                        <div class="col-12">
        
                            <mat-form-field>
                                <mat-label class="text-white">Role</mat-label>
                                <select class="custom-select col-12 text-white" required matNativeControl name="role" formControlName="role">
                                    <option selected="">Select role...</option>
                                    <option [value]="role.name" *ngFor="let role of assignableRole | async">
                                        {{role.name}}
                                    </option>
                                </select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div>
                        <button mat-button matStepperPrevious class="text-white btn spacel">Back</button>
                        <button mat-button matStepperNext class="text-white btn">Next</button>
                    </div>
                </form>
            </mat-step>
            <mat-step>
                <ng-template matStepLabel class="text-white">Account Information</ng-template>
                <div *ngIf="!saved">
                    <p class="text-white">You are almsot now done.</p>
                    <p class="text-white">Firstname: {{firstControls.firstName.value}}</p>
                    <p class="text-white">Lastname: {{firstControls.lastName.value}}</p>
                    <p class="text-white">Country: {{firstControls.country.value}}</p>
                    <p class="text-white">Phone: {{firstControls.phone.value}}</p>
                    <p class="text-white">Email: {{secondControls.email.value}}</p>
                    <p class="text-white">Password: {{secondControls.password.value}}</p>
                    <p class="text-white">Role: {{secondControls.role.value}}</p>
                </div>
                <div *ngIf="saved">
                    <p class="text-white">{{message}}</p>
                </div>
                <div>
                    <button mat-button matStepperPrevious class="text-white btn spacel" *ngIf="!saved">Back</button>
                    <!-- <button mat-button matStepperPrevious class="text-white btn spacel" (click)="loginnow()" *ngIf="saved">Login</button> -->
                    <!-- <button mat-button class="text-white btn" (click)="stepper.reset()">Create a new user</button> -->
                    <button mat-button class="text-white btn" [style.background-color]="'#009b72'" *ngIf="!saved" (click)="submit()">Submit</button>
                </div>
            </mat-step>
        </mat-stepper>
    </div>
</div>